<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Calendar</title>
</head>
<script src="https://uicdn.toast.com/tui.code-snippet/latest/tui-code-snippet.js"></script>
<script src="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.js"></script>
<link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.css"/>


<body>

<div id="calendar" style="width: 100%; height: 800px"></div>
</body>

<script>
    var Calendar = tui.Calendar;

    var calendar = new Calendar(document.getElementById('calendar'), {
        defaultView: 'month',
        taskView: true,    // can be also ['milestone', 'task']
        scheduleView: true,  // can be also ['allday', 'time']
        template: {
            milestone: function (schedule) {
                return '<span style="color:red;"><i class="fa fa-flag"></i> ' + schedule.title + '</span>';
            },
            milestoneTitle: function () {
                return 'Milestone';
            },
            task: function (schedule) {
                return '&nbsp;&nbsp;#' + schedule.title;
            },
            taskTitle: function () {
                return '<label><input type="checkbox" />Task</label>';
            },
            allday: function (schedule) {
                return schedule.title + ' <i class="fa fa-refresh"></i>';
            },
            alldayTitle: function () {
                return 'All Day';
            },
            time: function (schedule) {
                return schedule.title + ' <i class="fa fa-refresh"></i>' + schedule.start;
            }
        },
        month: {
            daynames: ['일', '월', '화', '수', '목', '금', '토'],
            startDayOfWeek: 0,
            narrowWeekend: true
        },
        week: {
            daynames: ['일', '월', '화', '수', '목', '금', '토'],
            startDayOfWeek: 0,
            narrowWeekend: true
        }
    });


    {#caelndaer에 스케줄 추가#}
    calendar.createSchedules([
        {
            id: '1',
            calendarId: '1',
            title: 'my schedule11',
            category: 'time',
            dueDateClass: '',
            start: '2018-08-15T22:30:00+09:00',
            end: '2018-08-15T02:30:00+09:00'
        },
        {
            id: '2',
            calendarId: '1',
            title: 'second schedule',
            category: 'time',
            dueDateClass: '',
            start: '2018-08-13T17:30:00+09:00',
            end: '2018-08-13T17:31:00+09:00'
        }
    ]);

    calendar.on('clickSchedule', function (event) {

        var schedule = event.schedule;
      alert("schedule clicked:"+schedule.title);
        if (lastClickSchedule) {
            calendar.updateSchedule(lastClickSchedule.id, lastClickSchedule.calendarId, {
                isFocused: false
            });
        }
        calendar.updateSchedule(schedule.id, schedule.calendarId, {
            isFocused: true
        });

        lastClickSchedule = schedule;
        // open detail view
    });


</script>

</html>